-- Test smol_options() by creating index with WITH options
-- Covers lines 2497, 2500 (smol_options function)
SET client_min_messages = warning;
CREATE EXTENSION IF NOT EXISTS smol;
DROP TABLE IF EXISTS t_opt CASCADE;
CREATE TABLE t_opt (k int4);
-- Create index with fillfactor option (calls smol_options)
CREATE INDEX t_opt_idx ON t_opt USING smol(k) WITH (fillfactor=90);
-- Verify index was created
\d t_opt
               Table "public.t_opt"
 Column |  Type   | Collation | Nullable | Default 
--------+---------+-----------+----------+---------
 k      | integer |           |          | 
Indexes:
    "t_opt_idx" smol (k) WITH (fillfactor='90')

-- Cleanup
DROP TABLE t_opt CASCADE;
